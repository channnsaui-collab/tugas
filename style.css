/* ============================================================
   Student Finance Tracker – style.css
   Dark futuristic theme with glassmorphism, gradients & motion
   ============================================================ */

/* ── CSS Custom Properties (Design Tokens) ─────────────── */
:root {
  /* Palette – dark mode (default) */
  --bg-primary:    #0a0e17;
  --bg-secondary:  #111827;
  --bg-card:       #1a2236;
  --bg-card-hover: #1f2a42;
  --bg-input:      #141c2e;

  --text-primary:   #e8ecf4;
  --text-secondary: #8892a6;
  --text-muted:     #4d566a;

  --accent:         #6366f1;   /* indigo-500 */
  --accent-glow:    rgba(99, 102, 241, .35);
  --accent-hover:   #818cf8;

  --income-color:   #34d399;   /* emerald-400 */
  --income-glow:    rgba(52, 211, 153, .25);
  --expense-color:  #f87171;   /* red-400 */
  --expense-glow:   rgba(248, 113, 113, .25);

  --warning-bg:     rgba(251, 191, 36, .12);
  --warning-border: #f59e0b;
  --warning-text:   #fbbf24;

  --border-color:   rgba(255, 255, 255, .06);
  --shadow-sm:      0 2px 8px rgba(0,0,0,.25);
  --shadow-md:      0 8px 24px rgba(0,0,0,.35);
  --shadow-lg:      0 16px 48px rgba(0,0,0,.45);

  --radius:         16px;
  --radius-sm:      10px;
  --radius-xs:      6px;
  --transition:     .3s cubic-bezier(.4,0,.2,1);

  --font-family:    'Inter', system-ui, -apple-system, sans-serif;
  --navbar-height:  64px;
}

/* ── Light mode overrides ────────────────────────────── */
body.light-mode {
  --bg-primary:    #f1f5f9;
  --bg-secondary:  #e2e8f0;
  --bg-card:       #ffffff;
  --bg-card-hover: #f8fafc;
  --bg-input:      #f1f5f9;

  --text-primary:   #0f172a;
  --text-secondary: #475569;
  --text-muted:     #94a3b8;

  --border-color:   rgba(0, 0, 0, .08);
  --shadow-sm:      0 2px 8px rgba(0,0,0,.06);
  --shadow-md:      0 8px 24px rgba(0,0,0,.08);
  --shadow-lg:      0 16px 48px rgba(0,0,0,.10);
}

/* ── Reset & Base ────────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html { font-size: 16px; scroll-behavior: smooth; }

body {
  font-family: var(--font-family);
  background: var(--bg-primary);
  color: var(--text-primary);
  line-height: 1.6;
  min-height: 100vh;
  transition: background var(--transition), color var(--transition);
}

/* Subtle grid background */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image:
    linear-gradient(rgba(99,102,241,.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(99,102,241,.03) 1px, transparent 1px);
  background-size: 60px 60px;
  pointer-events: none;
  z-index: 0;
}
body.light-mode::before { opacity: .5; }

/* ── Navbar ──────────────────────────────────────────── */
.navbar {
  position: sticky;
  top: 0;
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: var(--navbar-height);
  padding: 0 clamp(1rem, 4vw, 2.5rem);
  background: rgba(10, 14, 23, .82);
  backdrop-filter: blur(14px) saturate(1.6);
  -webkit-backdrop-filter: blur(14px) saturate(1.6);
  border-bottom: 1px solid var(--border-color);
  transition: background var(--transition);
}
body.light-mode .navbar {
  background: rgba(241, 245, 249, .85);
}

.nav-brand {
  display: flex;
  align-items: center;
  gap: .65rem;
}
.nav-logo {
  width: 28px;
  height: 28px;
  color: var(--accent);
  filter: drop-shadow(0 0 6px var(--accent-glow));
}
.nav-title {
  font-weight: 700;
  font-size: 1.15rem;
  letter-spacing: -.02em;
  background: linear-gradient(135deg, var(--accent), var(--income-color));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.nav-actions { display: flex; align-items: center; gap: .75rem; }

/* Theme toggle button */
.theme-toggle {
  position: relative;
  width: 42px;
  height: 42px;
  display: grid;
  place-items: center;
  background: transparent;
  border: 1px solid var(--border-color);
  border-radius: 50%;
  cursor: pointer;
  transition: background var(--transition), border-color var(--transition);
}
.theme-toggle:hover { background: var(--bg-card); border-color: var(--accent); }
.theme-toggle svg { position: absolute; width: 20px; height: 20px; color: var(--text-secondary); transition: opacity var(--transition), transform var(--transition); }
.theme-toggle .icon-moon { opacity: 1; transform: rotate(0deg); }
.theme-toggle .icon-sun  { opacity: 0; transform: rotate(-90deg); }
body.light-mode .theme-toggle .icon-moon { opacity: 0; transform: rotate(90deg); }
body.light-mode .theme-toggle .icon-sun  { opacity: 1; transform: rotate(0deg); }

/* ── Container ───────────────────────────────────────── */
.container {
  position: relative;
  z-index: 1;
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem clamp(1rem, 4vw, 2.5rem) 3rem;
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

/* ── Alert Banner ────────────────────────────────────── */
.alert-banner {
  display: none;           /* shown by JS */
  align-items: center;
  gap: .75rem;
  padding: .85rem 1.25rem;
  background: var(--warning-bg);
  border: 1px solid var(--warning-border);
  border-radius: var(--radius-sm);
  color: var(--warning-text);
  font-weight: 500;
  font-size: .92rem;
  animation: slideDown .4s ease-out;
}
.alert-banner svg { width: 22px; height: 22px; flex-shrink: 0; }
.alert-banner.visible { display: flex; }
.alert-close {
  margin-left: auto;
  background: transparent;
  border: none;
  color: var(--warning-text);
  font-size: 1.35rem;
  cursor: pointer;
  line-height: 1;
  opacity: .7;
  transition: opacity var(--transition);
}
.alert-close:hover { opacity: 1; }

@keyframes slideDown {
  from { opacity: 0; transform: translateY(-12px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ── Generic Card ────────────────────────────────────── */
.card {
  background: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: var(--radius);
  padding: 1.5rem;
  box-shadow: var(--shadow-sm);
  transition: background var(--transition), border-color var(--transition), box-shadow var(--transition);
}
.card:hover { box-shadow: var(--shadow-md); }

/* ── Section Title ───────────────────────────────────── */
.section-title {
  font-size: 1.1rem;
  font-weight: 700;
  letter-spacing: -.01em;
  margin-bottom: 1.25rem;
  display: flex;
  align-items: center;
  gap: .5rem;
}
.section-title::before {
  content: '';
  width: 4px;
  height: 1.1em;
  border-radius: 4px;
  background: var(--accent);
}

/* ── Summary Cards Grid ──────────────────────────────── */
.summary-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 1.25rem;
}

.summary-card {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 1rem;
  padding: 1.35rem 1.5rem;
  position: relative;
  overflow: hidden;
}
.summary-card::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: var(--radius);
  opacity: 0;
  transition: opacity var(--transition);
}
.summary-card:hover::after { opacity: 1; }

.balance-card::after  { background: linear-gradient(135deg, rgba(99,102,241,.06), transparent 60%); }
.income-card::after   { background: linear-gradient(135deg, rgba(52,211,153,.06), transparent 60%); }
.expense-card::after  { background: linear-gradient(135deg, rgba(248,113,113,.06), transparent 60%); }

.card-icon {
  width: 48px;
  height: 48px;
  display: grid;
  place-items: center;
  border-radius: 14px;
  background: var(--accent-glow);
  color: var(--accent);
  flex-shrink: 0;
}
.card-icon svg { width: 24px; height: 24px; }
.income-icon  { background: var(--income-glow);  color: var(--income-color); }
.expense-icon { background: var(--expense-glow); color: var(--expense-color); }

.card-info { display: flex; flex-direction: column; gap: .15rem; }
.card-label { font-size: .82rem; color: var(--text-secondary); font-weight: 500; text-transform: uppercase; letter-spacing: .04em; }
.card-value { font-size: 1.65rem; font-weight: 800; letter-spacing: -.02em; }
.income-value  { color: var(--income-color); }
.expense-value { color: var(--expense-color); }

/* Balance progress bar */
.balance-bar-wrap {
  width: 100%;
  height: 6px;
  border-radius: 6px;
  background: var(--bg-input);
  overflow: hidden;
  margin-top: .25rem;
}
.balance-bar {
  height: 100%;
  border-radius: 6px;
  width: 0%;
  background: linear-gradient(90deg, var(--accent), var(--income-color));
  transition: width .6s cubic-bezier(.4,0,.2,1);
}

/* ── Charts Grid ─────────────────────────────────────── */
.charts-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 1.25rem;
}
.chart-card { padding: 1.5rem; }
.chart-wrapper {
  position: relative;
  width: 100%;
  max-height: 320px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.chart-wrapper canvas { max-height: 300px; }
.chart-empty {
  display: none;
  text-align: center;
  color: var(--text-muted);
  font-size: .9rem;
  padding: 2.5rem 0;
}
.chart-empty.visible { display: block; }

/* ── Savings Goal ────────────────────────────────────── */
.savings-card { padding: 1.5rem; }
.savings-form-row {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  align-items: flex-end;
}
.savings-form-row .input-group { flex: 1 1 160px; }
.savings-form-row .btn { flex-shrink: 0; align-self: flex-end; }

.savings-display { margin-top: 1.5rem; }
.savings-header {
  display: flex;
  justify-content: space-between;
  font-size: .95rem;
  font-weight: 600;
  margin-bottom: .5rem;
}

.progress-track {
  width: 100%;
  height: 12px;
  border-radius: 12px;
  background: var(--bg-input);
  overflow: hidden;
}
.progress-fill {
  height: 100%;
  width: 0%;
  border-radius: 12px;
  background: linear-gradient(90deg, var(--accent), var(--income-color));
  transition: width .6s cubic-bezier(.4,0,.2,1);
}

.savings-note {
  margin-top: .5rem;
  font-size: .85rem;
  color: var(--text-secondary);
}

.hidden { display: none !important; }

/* ── Form ────────────────────────────────────────────── */
.form-card { padding: 1.75rem; }
.form-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 1rem;
  margin-bottom: 1.5rem;
}
.full-width { grid-column: 1 / -1; }

.input-group { display: flex; flex-direction: column; gap: .35rem; }
.input-group label {
  font-size: .8rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .04em;
  color: var(--text-secondary);
}
.input-group input,
.input-group select {
  height: 44px;
  padding: 0 .9rem;
  border: 1px solid var(--border-color);
  border-radius: var(--radius-xs);
  background: var(--bg-input);
  color: var(--text-primary);
  font-family: var(--font-family);
  font-size: .92rem;
  outline: none;
  transition: border-color var(--transition), box-shadow var(--transition);
}
.input-group input::placeholder { color: var(--text-muted); }
.input-group input:focus,
.input-group select:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px var(--accent-glow);
}

/* ── Buttons ─────────────────────────────────────────── */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .45rem;
  padding: .65rem 1.4rem;
  font-family: var(--font-family);
  font-size: .9rem;
  font-weight: 600;
  border: none;
  border-radius: var(--radius-xs);
  cursor: pointer;
  transition: background var(--transition), box-shadow var(--transition), transform var(--transition);
}
.btn:active { transform: scale(.97); }
.btn svg { width: 18px; height: 18px; }

.btn-primary {
  background: linear-gradient(135deg, var(--accent), #818cf8);
  color: #fff;
  box-shadow: 0 4px 14px var(--accent-glow);
}
.btn-primary:hover { background: linear-gradient(135deg, #818cf8, var(--accent)); box-shadow: 0 6px 20px var(--accent-glow); }

.btn-accent {
  background: var(--accent);
  color: #fff;
}
.btn-accent:hover { background: var(--accent-hover); }

.btn-outline {
  background: transparent;
  border: 1px solid var(--border-color);
  color: var(--text-secondary);
}
.btn-outline:hover { border-color: var(--accent); color: var(--accent); }

.btn-sm { padding: .4rem .85rem; font-size: .82rem; }

.btn-danger {
  background: transparent;
  border: 1px solid rgba(248,113,113,.25);
  color: var(--expense-color);
  padding: .35rem .7rem;
  font-size: .8rem;
}
.btn-danger:hover { background: var(--expense-glow); }

/* ── Transaction Table ───────────────────────────────── */
.table-card { padding: 1.5rem; }
.table-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: .75rem;
  margin-bottom: 1rem;
}
.table-header .section-title { margin-bottom: 0; }

.filter-group select {
  height: 38px;
  padding: 0 .75rem;
  border: 1px solid var(--border-color);
  border-radius: var(--radius-xs);
  background: var(--bg-input);
  color: var(--text-primary);
  font-family: var(--font-family);
  font-size: .85rem;
  outline: none;
  cursor: pointer;
  transition: border-color var(--transition);
}
.filter-group select:focus { border-color: var(--accent); }

.table-scroll { overflow-x: auto; }

table {
  width: 100%;
  border-collapse: collapse;
}
thead th {
  text-align: left;
  font-size: .78rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .05em;
  color: var(--text-muted);
  padding: .65rem .75rem;
  border-bottom: 1px solid var(--border-color);
  white-space: nowrap;
}
tbody tr {
  transition: background var(--transition);
}
tbody tr:hover { background: var(--bg-card-hover); }
tbody td {
  padding: .75rem;
  font-size: .9rem;
  border-bottom: 1px solid var(--border-color);
  white-space: nowrap;
}

.text-right  { text-align: right; }
.text-center { text-align: center; }

.badge {
  display: inline-block;
  padding: .2rem .6rem;
  border-radius: 20px;
  font-size: .78rem;
  font-weight: 600;
  text-transform: capitalize;
}
.badge-income  { background: var(--income-glow);  color: var(--income-color); }
.badge-expense { background: var(--expense-glow); color: var(--expense-color); }

.amount-income  { color: var(--income-color);  font-weight: 600; }
.amount-expense { color: var(--expense-color); font-weight: 600; }

.table-empty {
  display: none;
  text-align: center;
  color: var(--text-muted);
  font-size: .9rem;
  padding: 2.5rem 0;
}
.table-empty.visible { display: block; }

/* ── Footer ──────────────────────────────────────────── */
.footer {
  position: relative;
  z-index: 1;
  text-align: center;
  padding: 1.5rem 1rem;
  font-size: .82rem;
  color: var(--text-muted);
  border-top: 1px solid var(--border-color);
}

/* ── Responsive ──────────────────────────────────────── */
@media (max-width: 768px) {
  .summary-grid { grid-template-columns: 1fr; }
  .charts-grid  { grid-template-columns: 1fr; }
  .form-grid    { grid-template-columns: 1fr; }
  .card-value   { font-size: 1.35rem; }
  .table-header { flex-direction: column; align-items: flex-start; }
}

@media (max-width: 480px) {
  .navbar { padding: 0 1rem; }
  .nav-title { font-size: 1rem; }
  .container { padding: 1.25rem 1rem 2rem; gap: 1.25rem; }
  .card { padding: 1.15rem; border-radius: var(--radius-sm); }
}
